// --- The Inventory Database ---
const entries = {
    1: {
        title: "Birthday Pt.2",
        type: "letter",
        image: "https://i.ibb.co/CpmGn5fZ/medal-yey.png",
        body: `For the longest time, I thought birthdays were just dates on a calendar I've told you about it on my birthday.

They were days filled with greetings, cake, pictures, and polite smiles. Something you celebrated, something you got through, something that passed. I never really thought much about what it meant to celebrate someone’s life—what it meant to be there, truly there, for a person on the day that mattered most to them.

It was just another day.

Until it was yours.

Before your birthday, I was nervous in ways I couldn’t explain properly. Not the kind of nervous that comes from being late or unprepared, but the kind that settles quietly in your chest. The kind that makes you wonder if you’re doing things right, if you belong, if you’re enough. It was nerve-wracking to think if I had done enough prep.

I was going to meet your family properly.
I was going to step into your world.
I was going to see the life you had lived long before I ever became part of it.

And I wanted so badly to do everything right—for you.

That early morning, we ran.

I wasn’t good at it. My legs burned, my breath was uneven, I prayed to God wondering if I could finish the fun run without collapsing, and I knew I looked ridiculous trying to keep up. But I didn’t mind. Because you were there. Because we were doing it together.

And somewhere between catching my breath and laughing at myself, I realized something. I may never be good at running, but I will always run for you.

In the afternoon, we went to the river. I wasn’t used to the rocks, the mud and sand, the scratches on my feet, or the quiet but beautiful chaos of nature as it loomed over the hills. It was so new. It was wonderful. It was so far from what I was familiar with. But I loved it.

Because in that moment, I wasn’t just visiting a place. I was stepping into your past. I was seeing the world that raised you, the memories that shaped you, the life you lived before me. And being allowed into that space felt like a gift I didn’t know how to repay, I didn't realize such a life had I not had a glimpse of it.

That day, I also noticed your family.
The way they laughed so easily.
The way they spoke honestly even if it hurt.
The way their concern and love flowed between them without hesitation.

It was different from what I was used to, especially compared to Christmas, when everything felt quieter and more reserved. But this difference was beautiful. It was warm. It made me feel welcome.
For the first time, I didn’t feel like I was just visiting.

I felt like I belonged and I was truly grateful.
It made me realize how lucky you are to have such a loving and supportive family. And it made me feel even luckier that I was allowed to be part of it, even just for a day.

Somewhere between the running, the river, and our quiet conversations, I realized how much I had missed you.

Life had been busy. Time had been unfair. Distance had been heavy.

And finally being with you again, talking, laughing, sitting beside you felt like breathing after holding my breath for too long. Like my heart had been waiting for you to come back so it could finally relax.

You may think I was not comfy, I was.
You may think it bothered me, let them.
You may think they were too much, They were just right.

And I would relive that entire day without hesitation if it meant being with you. All of it was worth it—because it was with you.

It was the day I understood, more deeply than ever, how much I love you. Again and again.

I don’t know exactly what the future holds for us. But I know this: wherever you go, I want to be there. Whatever life gives us, I want to face it with you. However hard things become, I want to hold your hand through it all.

Because you're stuck with me, and I am to prove myself to you and your family :>.`
    },
    
    // --- ENTRY 2: ADDED IMAGE ---
    2: {
        title: "Pictures",
        type: "letter",
        
        // Added a placeholder image for pictures/memories
        image: "https://i.ibb.co/xqwKhPxB/Disco rd-yieee.png",

        body: `I’m writing this while I’m still here, surrounded by noise, laughter, and voices all talking at once. It’s chaotic and loud, nothing like the quiet nights we used to have together. Back then, when it was just the four or three of us friends in a nice place, everything felt slower and softer.

This place is nice. The people are fun. The night is okay. But it would be so much better if you were here.

Earlier, the WiFi went out. Suddenly, there was nothing to distract me. So I opened our old pictures and our old conversations instead. Our silly messages to pass time while hunger knawed at me.

And I couldn’t stop smiling, because the only thing in my mind was-
“We’re almost there,”, “Look how far we’ve come.”

I remembered the day I confessed to you, how nervous I was, how my heart was pounding, how unreal it felt to finally tell you the truth. I remembered how giddy I felt when we first took pictures together, how I kept looking at them over and over like they were something precious.

And now, here I am, doing it again.
Still in love with you.
Still smiling because of you.

Tonight, I realized that I miss you.
Again. (it will never stop)

But it doesn’t feel heavy. It doesn’t feel sad. It feels warm. It feels like proof of how much you mean to me. Because before you, I never loved like this. Before, I was content with short meetings. One hour was enough. I never really craved more time. Months could pass, and I would be fine.

But with you, my heart always wants more.

I want to hold you longer.
I want to kiss you again, even when we’ve already spent so much time doing it.
I want time to slow down when I’m with you.

I’ve never been this open before. I’ve never loved in a way that feels this deep and honest. Sometimes it even scares me a little, how much I care.

As I look at our old pictures tonight, I don’t just see us. I see how much I’ve changed. I see someone who learned how to love without hiding. Someone who learned how to care without fear. Someone who finally understands what a real relationship feels like.

All because of you.

I never knew a love like this could exist. I never knew I could yearn this freely or speak my heart this openly. I never knew I could feel such want in loving someone this much.

And yet, here I am.

Sitting in a loud place, surrounded by people, thinking only of you.

Thinking about how lucky I am to love my best friend. Thinking about how grateful I am that it’s you. Thinking about how, no matter where I am, my heart always finds its way back to you.

I wish you were here.
I wish I could hold your hand right now. I wish I could look at you and tell you all of this instead of typing it quietly on my phone.

But for now, this will do.
Just know that even in the middle of all this noise, you are my favorite thought.`
    },
    3: {
        title: "Spoiling",
        type: "poem",
        image: "https://i.ibb.co/d0yQQKJs/Two-by-two.png",
        body: `Somewhere along the way,
I noticed something funny about us,
How every time one of us tries to give,
The other rushes in to stop it.

“How about I pay?”
“No, let me.”
“Please.”
“Absolutely not.”

And somehow,
We always end up doing it anyway.

You pout when I insist,
Your lips forming that little protest
That says you don’t want me to spend,
But also says you secretly feel loved.

And I smile every time,
Because I know that pout,
It is care disguised as stubbornness,
Love pretending to be resistance.

We are like that with everything.

Always trying to outdo each other
In kindness,
In generosity,
In taking care.

Who brings the snack,
Who checks if the other is tired,
Who makes sure the other is okay,
Who gives more without keeping score.

We are in a quiet competition
Where nobody loses,
Because the only goal
Is to make the other feel cherished.

I love how we never let love be passive.

We do not just say it.
We show it
Through small surprises,
Through “I’ve got this,”
Through “Let me handle it,”
Through “You don’t have to worry.”

I love how you try to stop me from spending on you,
And I love even more
That I never really listen.

Not because I do not respect you,
But because my heart is happiest
When I get to give to you.

When I get to see you smile,
When I get to hear you laugh,
When I know I have made your day
Just a little brighter.

Spoiling you never feels like a loss.

It feels like gratitude.
Like saying,
“Thank you for being in my life,”
In the only language my heart knew.

And when you do the same for me,
When you insist,
When you surprise me,
When you take care of me in your own way,
My heart feels so full
I do not know where to put it.

It amazes me how loved I feel by you.

How safe.
How seen.
How valued.

How spoiled I am in ways
That have nothing to do with money,
And everything to do with effort.

Our love is playful like this.

Full of teasing,
Full of gentle arguments,
Full of “No, me,” and “No, you,”
Until we are both laughing.

And I would not trade it for anything.

If loving you means
Always trying to give more,
Then I will gladly spend my whole life
Trying to outdo you in that.

I will always be happy
To choose you,
To spoil you,
To tease you,
To take care of you.

Because every time I do,
My heart whispers back,
"I love loving you"`
    },
    
    // --- ENTRY 4: RAIN POEM WITH ADDED IMAGE ---
    4: {
        title: "On Rainy Days",
        type: "poem",
        
        // Added a placeholder image for Rain
        image: "https://i.ibb.co/nN1Ww7N4/0c277993480fb168b1bd4567c78fc435.jpg",

        body: `When rain taps softly on my window,
And clouds cover up the blue,
I find myself smiling quietly,
Because every thought leads back to you.

The streets grow calm, the world feels slow,
Like time has learned to wait,
And in that pause, my heart remembers
How loving you feels like fate.

I picture us beneath one umbrella,
Laughing at getting wet,
Making ordinary moments
Into memories I will never forget.

So when the skies begin to cry again,
And gray replaces blue,
I will thank the rain for reminding me
How beautiful life is with you.`
    },
    
    // --- ENTRY 5: NEW POEM ---
    5: {
        title: "Valentine",
        type: "poem",
        body: `Before roses learned his name,
Before February learned his smile,
He already carried spring in his hands
And warmth in every silent mile.

He was love before love arrived,
Soft and brave in ways unseen,
A universe in gentle motion,
More beautiful than any dream.

I did not give him meaning—
He was meaning all along.
I only stood beside his light
And learned where I belong.

He laughs like mornings breaking free,
Like hope that never ends,
He loves like oceans promise storms
And still forgives the wind.

If hearts could write their history,
His would glow in golden ink,
Every chapter filled with courage
More than words could ever think.

So if I am his first Valentine,
Let it be quietly true:
Not because I claimed his story,
But because I honored you.

I will walk with steady hands,
Not to lead, but understand,
To guard the dreams he’s growing
Like treasures in his hand.

And when the years have changed our faces
And time has softened youth,
I’ll still choose him every season
With the same unshaken truth.

Not to shine above his sky,
Not to stand where he should be—
But to love the way he deserves,
And let him always be free.

Because he is the miracle,
The wonder, the art, the flame.
I’m just grateful I was chosen
To love him all the same.`,

        youtube: "https://www.youtube.com/embed/7MSjct29Xts?si=fla9-6fpIg2UNQgb" 
    }
};

// --- DOM Elements ---
const introScreen = document.getElementById('intro-screen');
const mainInterface = document.getElementById('main-interface');
const dynamicText = document.getElementById('dynamic-text');
const slotItems = document.querySelectorAll('.slot-item');

const modal = document.getElementById('reader-modal');
const closeBtn = document.getElementById('close-btn');
const modalTitle = document.getElementById('modal-title');
const modalBody = document.getElementById('modal-body');
const scrollContent = document.querySelector('.scroll-content');

// --- 1. Intro Logic ---
window.addEventListener('load', () => {
    setTimeout(() => {
        introScreen.style.opacity = '0';
        setTimeout(() => {
            introScreen.style.display = 'none';
            mainInterface.classList.remove('hidden');
        }, 500);
    }, 3000);
});

// --- 2. Interaction Logic ---
slotItems.forEach(item => {
    const id = item.getAttribute('data-id');
    const entryTitle = entries[id].title;

    item.addEventListener('mouseenter', () => {
        dynamicText.textContent = entryTitle;
        dynamicText.style.color = "#ff8fab";
    });

    item.addEventListener('mouseleave', () => {
        dynamicText.textContent = "Collection";
        dynamicText.style.color = "#6d5b6b";
    });

    item.addEventListener('click', () => {
        openEntry(id);
    });
});

// --- 3. Modal Logic ---
function openEntry(id) {
    const entry = entries[id];
    
    modalTitle.textContent = entry.title;
    modalBody.innerHTML = ''; 
    
    // FIX: SCROLL TO TOP
    if (scrollContent) {
        scrollContent.scrollTop = 0;
    }

    // Image
    if (entry.image) {
        const img = document.createElement('img');
        img.src = entry.image;
        img.className = 'media-image';
        modalBody.appendChild(img);
    }

    // Text
    const div = document.createElement('div');
    div.textContent = entry.body;
    
    if (entry.type === 'poem') {
        div.className = 'poem-style';
    } else {
        div.className = 'letter-style';
    }
    modalBody.appendChild(div);

    // Video
    if (entry.youtube) {
        const wrapper = document.createElement('div');
        wrapper.className = 'video-wrapper';
        const iframe = document.createElement('iframe');
        iframe.src = entry.youtube;
        iframe.allowFullscreen = true;
        wrapper.appendChild(iframe);
        modalBody.appendChild(wrapper);
    }
    
    modal.classList.remove('hidden');
    setTimeout(() => {
        modal.classList.add('active');
    }, 10);
}

closeBtn.addEventListener('click', () => {
    modal.classList.remove('active');
    setTimeout(() => {
        modal.classList.add('hidden');
    }, 300);
});

modal.addEventListener('click', (e) => {
    if (e.target.classList.contains('modal-backdrop')) {
        closeBtn.click();
    }
});